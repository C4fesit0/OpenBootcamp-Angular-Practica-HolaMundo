<form [formGroup]="miFormularioValidado" (submit)="enviarFormulario()">

    <h3>Datos en vivo de mi formulario:</h3>
    <p>{{miFormularioValidado.value | json}}</p>

    <!-- Campos del formulario + Mensaje de error por validacion  -->

    <!-- Nombre -->
    <input placeholder="Nombre" formControlName="nombre"/>
    <div *ngIf="nombre?.errors?.['required'] && nombre?.touched">
        <p [ngStyle]="{color: 'tomato'}">El campo de nombre es es obligatorio</p>
    </div>

    <!-- Apellido -->
    <input placeholder="Apellido" formControlName="apellido"/>


    <!-- Edad -->
    <input placeholder="Edad" formControlName="edad">
    <div *ngIf="edad?.errors?.['required'] && edad?.touched">
        <p [ngStyle]="{color: 'tomato'}">El campo de edad es obligatorio</p>
    </div>
    <div *ngIf="edad?.errors?.['min'] && edad?.touched">
        <p [ngStyle]="{color: 'tomato'}">El campo edad no puedo ser inferior a 18. No puedes registrarte con {{edad?.errors?.['min'].actual}} años</p>
    </div>
    <div *ngIf="edad?.errors?.['max'] && edad?.touched">
        <p [ngStyle]="{color: 'tomato'}">El campo de edad no puede ser superior a 99. No puedes registrarte con {{edad?.errors?.['max'].actual}} años</p>
    </div>

    <!-- Email -->
    <input placeholder="Email" formControlName="email"/>
    <div *ngIf="email?.errors?.['required'] && email?.touched">
        <p [ngStyle]="{color: 'tomato'}">El campo de email es es obligatorio</p>
    </div>
    <div *ngIf="email?.errors?.['email'] && email?.touched">
        <p [ngStyle]="{color: 'tomato'}">El formato del email no es valido</p>
    </div>

    <!-- Contraseña -->
    <input placeholder="Password" formControlName="password"/>
    <div *ngIf="password?.errors?.['required'] && password?.touched">
        <p [ngStyle]="{color: 'tomato'}">El campo de password es es obligatorio</p>
    </div>
    <div *ngIf="password?.errors?.['pattern'] && password?.touched">
        <p [ngStyle]="{color: 'tomato'}">El formato no es valido</p>
    </div>

    <!-- Aceptar -->
    <input type="checkbox" formControlName="acepta" >Aceptar
    <div *ngIf="acepta?.errors?.['requiredTrue'] && password?.touched">
        <p [ngStyle]="{color: 'tomato'}">Debes aceptar los terminos</p>
    </div>

    <!-- Boton de submit que se activa solo cuando el formulario es valido -->
<button type="submit" [disabled]="miFormularioValidado.invalid">Enviar</button>
</form>
